<div class="competence-card hoverable" (mouseenter)="hover = true" (mouseleave)="hover = false">
    <ng-container *ngIf="competence as c">

        <a [routerLink]="'/' + getTraceRoute()"
           class="card-overlay-link"
           aria-label="Voir les détails"
           (click)="$event.stopPropagation()"></a>

        <!-- Masque central unique -->
        <div class="mask-animation" *ngIf="hover"></div>

        <!-- Partie gauche -->
        <div class="left">
            <div class="left-content" [class.blurred]="hover">
                <h2>{{ c.title }}</h2>
            </div>
            <div class="details-overlay" *ngIf="hover">
                <span>Détails</span>
            </div>
        </div>

        <!-- Partie droite -->
        <div class="right">
            <!-- Logos toujours visibles (masqués au hover si nécessaire via classe CSS) -->
            <div class="logos">
                <ng-container *ngFor="let logo of c.logos">
                    <img [src]="logo" alt="logo"/>
                </ng-container>
            </div>

            <!-- Infos visibles au hover -->
            <div class="infos" [class.revealed]="hover">
                <p><strong>Technologies :</strong> {{ c.technos.join(', ') }}</p>
                <p><strong>Date :</strong> {{ c.date }}</p>
                <p><strong>Contexte :</strong> {{ c.context }}</p>
            </div>
        </div>
    </ng-container>
</div>
